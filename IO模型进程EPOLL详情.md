目录
	1. 进程切换
	2. 进程阻塞
	3. 文件描述符
	4. epoll工作模式
	5. 总结
	6. 我的理解
	7. Linux中的EAGAIN含义


内容
	1. 进程切换： 很好资源
		a. 为了控制进程的进行，内核必须有能力挂起正在cpu上运行的进程，
		b. 恢复之前挂起的某个进程的执行
		c. 切换过程
			i. 保存处理机上下文，包括
				1) 程序计数器
				2) 其他寄存器
			ii. 跟新pcb信息
			iii. 把进程的pcb信息放入到相应的队列，如就绪队列，在某时间阻塞队列等
			iv. 选择另一个进程执行，并更新去pcb信息
			v. 更新内存管理的数据结构
			vi. 回复处理机上下文
	2. 进程的阻塞
		a. 正在进行的进程，由于等待的某种事件未发生（请求系统资源失败、等待某种操作完成，新数据尚未到达，无新工作等），则由系统自动执行阻塞原语block，使得自己由运行状态改为阻塞状态。
		b. 进程的阻塞是进程的一种主动行为。因此，只有运行中的进程（获得CPU）才可能将其转为阻塞。
	3. 文件描述符fd
			i. File descriptor  用于表述 指向  文件 的 引用 的抽象化概念
			ii. 非负整数，实际上是一个索引值
			iii. 指向  内核为每一个进程所维护的 该进程打开文件的  记录表
			iv. 当程序打开一个现有的文件或者新建一个文件的时候，内核向进程返回一个文件描述符，
	4. epoll工作模式
		epoll事先通过epoll_ctl()来注册一个文件描述符，一旦基于某个文件描述符就绪时，内核采用类似callback的回调机制，迅速激活这个条件描述符，当程序调用epoll_wait时候便会得到通知。
		a. LT模式  level trigger 水平触发   默认缺省
			i. 当epoll_wait 检测到描述符事件发生并将此事件通知应用程序，应用程序可以不立即处理该事件， 下次调用epoll_wait的时候再次相应应用程序并通知此事件。
		b. ET模式  edge trigger 边缘触发
			i. ****，应用用程序必须立即处理该事件，若不处理，下次epoll_wait不会再次相应该事件。
			ii. Only once （除非做了什么操作，导致该描述符又变为 未就绪 状态）
		ET模式在很大程度上减少了epoll事件被重复触发的次数，因此效率比LT高。epoll的ET模式必须是在非阻塞no-block，以避免一个文件句柄由于 阻塞读/写操作  把处理多个文件句柄的任务饿死。
	5. 总结示例
		已经把一个 从管道中读取文件的   句柄添加到epoll描述符
		a. 管道另一端写入2Kb的数据（代表着非满，内核会通知你i可以去读取了）
		b. 调用epoll_wait(2), 内核会告诉他RFD，已经准备好读
		c. 我们读取了1kb的数据
		d. 调用epoll_wait(2)…  只关心非空非满情况
			i. 若是LT模式，d这一步还是会被触发。内核会重复通知
			ii. 若是ET模式，该进程会被挂起。
				1) 因为有剩余的文件在用户缓冲区（有数据，不会触发非空非满，也不会触发空和满），数据发出端还在等待对之前发出的数据的反馈信息。
				2) 调用者可能会放弃 残存与缓冲区的1kb数据。
				3) While ( rs ){
					Buflen = recv(activeevnets[i].data.fd, buf, sizeof(buf),0)
					If(buflen < 0){
						//非阻塞模式，当errno未EAGAIN时，标示缓冲区已无数据客服，启动写
						//这里就当做该次事件已经处理
						If(errno == EAGAIN )
							Break
						Else
							Return 
					}else{
						If(buflen == sizeof (buf))
							Rs = 1 (此次返回的等于请求的大小，可能还会有数据，参照分页)
						Else
							Rs = 0;
					}
				}
	6. 我的理解
		a. 内核为每个进程 维护了 该进程访问了哪些文件 的文件列表。内核制作了一个叫”文件描述符fd“的东西 来了指向 这个文件列表。
		b. 通过epoll_ctl 来注册，哪些文件列表 对应 哪些 事件（比如非空可读），一旦文件描述符里指向的这些文件就绪，也就是该指向就绪（会有反应），根据ctl绑定，即可知道要触发某些操作。
		c. 通过调用epoll_wait时候，内核就发消息告诉你，然后去执行，不需要再去遍历。
	7. Linux中的EAGAIN含义
		a. 再试一次  参照5.d中的示例代码。再试一次就break,继续循环，反则就返回了。
		b. 非阻塞流的读写发生 缓冲区满 / 缓冲区空 的时候，read/write会返回-1，并设置errno = EAGAIN

